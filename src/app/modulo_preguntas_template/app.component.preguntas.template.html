<div *ngFor="let cuestionario of cuestionarios">
  <div *ngIf="cuestionario.id==indice+1">   
    
    {{cuestionario.idPregunta.pregunta}} 
 
    <div *ngIf="cuestionario.idTipocuestionario.id==1">
      <div  ngbRadioGroup name="radioBasic" [(ngModel)]="apiservice.respuestas[indice].resp">
          <label class="btn-group" *ngFor="let s of cuestionario.idrespuestas|respPipe" ngbButtonLabel class="btn-secondary">
            <input ngbButton type="radio" [value]="s.id">{{s.respuesta}}
          </label>
      </div> 
    </div>
    
    <div *ngIf="cuestionario.idTipocuestionario.id==2">
      <select name="indice" class="btn-group" [(ngModel)]="apiservice.respuestas[indice].resp" (change)=toSet(indice)>
        <option [value]="s.id" *ngFor="let s of cuestionario.idrespuestas|respPipe">
            {{s.respuesta}}
        </option>
      </select>          
    </div>

    <!--Subrespuestas Nivel1-->
    <div *ngFor="let d of cuestionario.idSubrespuestas|respPipe2:apiservice.respuestas[indice].resp;let j = index">
      <select name="indice" class="btn-group" [(ngModel)]="apiservice.respuestas[indice].subresp[j]" (change)=toSet(indice)>
        <option [value]="d.idsubrespuesta1.id">{{d.idsubrespuesta1.respuesta}}</option> 
        <option [value]="d.idsubrespuesta2.id">{{d.idsubrespuesta2.respuesta}}</option>        
      </select>  

      <!--Subrespuestas Nivel2-->
      <div *ngIf="d.id1.subrespOrigen.id == apiservice.respuestas[indice].subresp[j]">
        <select name="indice2" class="btn-group" [(ngModel)]="apiservice.respuestas[indice].subresp[j+1]" (change)=toSet(indice,(j+1))>
          <option [value]="d.id1.idsubrespuesta1.id">{{d.id1.idsubrespuesta1.respuesta}}</option> 
          <option [value]="d.id1.idsubrespuesta2.id">{{d.id1.idsubrespuesta2.respuesta}}</option>        
        </select> 
      </div>

      <div *ngIf="d.id2.subrespOrigen.id == apiservice.respuestas[indice].subresp[j]">
          <select name="indice" class="btn-group" [(ngModel)]="apiservice.respuestas[indice].subresp[j+1]" (change)=toSet(indice,(j+1))> 
            <option [value]="d.id2.idsubrespuesta1.id">{{d.id2.idsubrespuesta1.respuesta}}</option> 
            <option [value]="d.id2.idsubrespuesta2.id">{{d.id2.idsubrespuesta2.respuesta}}</option>        
          </select> 
      </div>    

        <!--Subrespuestas Nivel3-->
        <div *ngIf="d.id1.id1.subrespOrigen.id == apiservice.respuestas[indice].subresp[j+1]">
          <select name="indice2" class="btn-group" [(ngModel)]="apiservice.respuestas[indice].subresp[j+2]">
            <option [value]="d.id1.id1.idsubrespuesta1.id">{{d.id1.id1.idsubrespuesta1.respuesta}}</option> 
            <option [value]="d.id1.id1.idsubrespuesta2.id">{{d.id1.id1.idsubrespuesta2.respuesta}}</option>        
          </select> 
        </div>

        <div *ngIf="d.id1.id2.subrespOrigen.id == apiservice.respuestas[indice].subresp[j+1]">
          <select name="indice" class="btn-group" [(ngModel)]="apiservice.respuestas[indice].subresp[j+2]">
            <option [value]="d.id1.id2.idsubrespuesta1.id">{{d.id1.id2.idsubrespuesta1.respuesta}}</option> 
            <option [value]="d.id1.id2.idsubrespuesta2.id">{{d.id1.id2.idsubrespuesta2.respuesta}}</option>        
          </select> 
        </div>

<!--
          <div *ngIf="d.id2.id1.subrespOrigen.id == apiservice.respuestas[indice].subresp[j+1]">
              3c
            <select name="indice2" class="btn-group" [(ngModel)]="apiservice.respuestas[indice].subresp[j+2]">
                <option [value]="d.id2.id1.idsubrespuesta1.id">{{d.id2.id1.idsubrespuesta1.respuesta}}</option> 
                <option [value]="d.id2.id1.idsubrespuesta2.id">{{d.id2.id1.idsubrespuesta2.respuesta}}</option>        
              </select> 
          </div>
  
          <div *ngIf="d.id1.id2.subrespOrigen.id == apiservice.respuestas[indice].subresp[j+1]">
               3d
            <select name="indice" class="btn-group" [(ngModel)]="apiservice.respuestas[indice].subresp[j+2]">
                <option [value]="d.id2.id2.idsubrespuesta1.id">{{d.id2.id2.idsubrespuesta1.respuesta}}</option> 
                <option [value]="d.id2.id2.idsubrespuesta2.id">{{d.id2.id2.idsubrespuesta2.respuesta}}</option>        
            </select> 
          </div>-->

    </div>
  
  
    
  </div>
</div>
